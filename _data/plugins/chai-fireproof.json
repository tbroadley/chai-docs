{"_id":"chai-fireproof","_rev":"6-3a85b08350c864af00b78c6fe93ce8bf","name":"chai-fireproof","description":"Firebase and Fireproof support for the Chai assertion library.","dist-tags":{"latest":"0.2.0"},"versions":{"0.1.0":{"name":"chai-fireproof","version":"0.1.0","description":"Firebase and Fireproof support for the Chai assertion library.","main":"dist/chai-fireproof.js","scripts":{"test":"gulp test"},"author":{"name":"Harry Schmidt","email":"goldibex@casetext.com"},"license":"MIT","peerDependencies":{"chai":">= 1.7.0 < 2","firebase":"^1.1.2","fireproof":"^1.7.3"},"keywords":["Fireproof","Firebase","chai","plugin","chai-plugin"],"devDependencies":{"chai":">= 1.7.0 < 2","firebase":"^1.1.2","fireproof":"^1.7.3","gulp":"^3.8.10","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-filter":"^1.0.2","gulp-git":"^0.5.3","gulp-help":"^1.3.0","gulp-jsdoc-to-markdown":"^0.1.5","gulp-mocha":"^1.1.1","gulp-rename":"^1.2.0","gulp-tag-version":"^1.1.0","gulp-util":"^3.0.1","gulp-wrap":"^0.5.0","mocha":"^1.21.5","q":"^1.0.1","request":"^2.47.0","rimraf":"^2.2.8"},"_id":"chai-fireproof@0.1.0","_shasum":"1e0a4f36825b28eaee1fa41b9aad2f85724ab068","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"goldibex","email":"me@goldibex.com"},"maintainers":[{"name":"goldibex","email":"me@goldibex.com"}],"dist":{"shasum":"1e0a4f36825b28eaee1fa41b9aad2f85724ab068","tarball":"https://registry.npmjs.org/chai-fireproof/-/chai-fireproof-0.1.0.tgz"},"directories":{}},"0.1.4":{"name":"chai-fireproof","version":"0.1.4","description":"Firebase and Fireproof support for the Chai assertion library.","main":"dist/chai-fireproof.js","scripts":{"test":"gulp test"},"author":{"name":"Harry Schmidt","email":"goldibex@casetext.com"},"license":"MIT","peerDependencies":{"chai":">= 1.7.0 < 2","firebase":"^1.1.2","fireproof":"^1.7.3"},"keywords":["Fireproof","Firebase","chai","plugin","chai-plugin"],"devDependencies":{"chai":">= 1.7.0 < 2","firebase":"^1.1.2","fireproof":"^1.7.3","gulp":"^3.8.10","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-filter":"^1.0.2","gulp-git":"^0.5.3","gulp-help":"^1.3.0","gulp-jsdoc-to-markdown":"^0.1.5","gulp-mocha":"^1.1.1","gulp-rename":"^1.2.0","gulp-tag-version":"^1.1.0","gulp-util":"^3.0.1","gulp-wrap":"^0.5.0","mocha":"^1.21.5","q":"^1.0.1","request":"^2.47.0","rimraf":"^2.2.8"},"_id":"chai-fireproof@0.1.4","_shasum":"4c4a24cbad2898f444279a81ab64fc186400b9c9","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"goldibex","email":"me@goldibex.com"},"maintainers":[{"name":"goldibex","email":"me@goldibex.com"}],"dist":{"shasum":"4c4a24cbad2898f444279a81ab64fc186400b9c9","tarball":"https://registry.npmjs.org/chai-fireproof/-/chai-fireproof-0.1.4.tgz"},"directories":{}},"0.2.0":{"name":"chai-fireproof","version":"0.2.0","description":"Firebase and Fireproof support for the Chai assertion library.","main":"dist/chai-fireproof.js","scripts":{"test":"gulp test"},"author":{"name":"Harry Schmidt","email":"goldibex@casetext.com"},"license":"MIT","peerDependencies":{"chai":">= 1.7.0 < 2","firebase":"^2.0.6","fireproof":"^2.0.6"},"keywords":["Fireproof","Firebase","chai","plugin","chai-plugin"],"devDependencies":{"chai":">= 1.7.0 < 2","firebase":"^2.0.6","fireproof":"^2.0.6","gulp":"^3.8.10","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-filter":"^1.0.2","gulp-git":"^0.5.3","gulp-help":"^1.3.0","gulp-jsdoc-to-markdown":"^0.1.5","gulp-mocha":"^1.1.1","gulp-rename":"^1.2.0","gulp-tag-version":"^1.1.0","gulp-util":"^3.0.1","gulp-wrap":"^0.5.0","mocha":"^1.21.5","q":"^1.0.1","request":"^2.47.0","rimraf":"^2.2.8"},"_id":"chai-fireproof@0.2.0","_shasum":"e8d404d40b5ef199ad60154798cd8a21e2b46e8b","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"goldibex","email":"me@goldibex.com"},"maintainers":[{"name":"goldibex","email":"me@goldibex.com"}],"dist":{"shasum":"e8d404d40b5ef199ad60154798cd8a21e2b46e8b","tarball":"https://registry.npmjs.org/chai-fireproof/-/chai-fireproof-0.2.0.tgz"},"directories":{}}},"readme":"chai-fireproof\n==============\n\n[![Build Status](https://travis-ci.org/casetext/chai-fireproof.svg?branch=master)](https://travis-ci.org/casetext/chai-fireproof)\n\nChai assertions and helpers for Firebase and Fireproof.\n\n## Requirements\nYou need to be able to generate [Fireproof](https://github.com/casetext/fireproof) references.\n\n## Usage\n\n### Object assertions\n\nFirst load the plugin like any other Chai plugin:\ngulp.task('test:setup', 'Set up tests.', ['build'], function() {\n\n\n  var Firebase = require('firebase'),\n    chai = require('chai');\n\n  require('./dist/chai-fireproof');\n  global.chai = chai;\n  global.expect = chai.expect;\n\n  if (!process.env.FIREBASE_TEST_URL || !process.env.FIREBASE_TEST_SECRET) {\n\n    gutil.log('Please set FIREBASE_TEST_URL and FIREBASE_TEST_SECRET.');\n    process.exit(1);\n\n  }\n\n  global.root = new Fireproof(new Firebase(process.env.FIREBASE_TEST_URL));\n  global.authToken = process.env.FIREBASE_TEST_SECRET;\n\n});\n\n\n```javascript\nchai.use(require('chai-fireproof'));\n```\n\nNow you can create assertions on Fireproof objects like anything else.\nNote that these return promises that you'll have to pass back to your test framework\nor handle yourself.\n\nAn example with Mocha:\n```javascript\ndescribe('My Firebase', function() {\n  \n  var root = new Fireproof(new Firebase('https://metropolis.firebaseio.com'));\n\n  it('should have some data in there already', function() {\n    return expect(root.child('robots')).to.exist;\n  });\n\n  it('should have some users in there', function() {\n\n    return expect(root.child('citizens')).to.deep.equal({\n      fred: {\n        name: 'Freder Frederson',\n        hometown: 'Metropolis',\n        assignment: 'Utopia'\n      },\n      maria: {\n        name: 'Maria',\n        hometown: 'Metropolis',\n        assignment: 'Underworld'\n      }\n    });\n\n  });\n\n  it('should have the water level in there', function() {\n    return expect(root.child('waterLevel')).to.be.lessThan(5);\n  })\n\n});\n```\n\n### Security testing\n\nchai-fireproof includes test assertions for validating that security rules work\nthe way they're supposed to. Note that these assertions return promises that\nyou'll have to pass back to your test framework or handle yourself.\n\nSecurity testing has the following additional requirements:\n- firebaseio-demo.com is unsupported, as Firebase doesn't check rules there.\n- Call ```chai.setFirebaseAuthToken()``` with an auth token before you make any assertions.\n\nThere are four new flags and one new method on assertions:\n- ```can```\n- ```cannot```\n- ```read```\n- ```write```\n- ```ref()```\n\nSo you can write assertions that match the following syntax: \n\n```javascript\nreturn expect({ uid: 'metropolis:maria' }).can.read.ref(root.child('users/maria'));\n```\n\n```javascript\nreturn expect({ uid: 'metropolis:robotmaria'}).cannot.read.ref(root.child('users/maria'));\n```\n\nThe _expectation object_ (that's to say, the thing wrapped in the assertion) is a\nJavascript object with authentication credentials. For _write_ tests, you can supply\nan object to attempt to write to the ref (for testing validation rules et al.):\n\n```javascript\nreturn expect({ uid: 'metropolis:robotmaria'}).cannot.write(true)\n.to.ref(root.child('city/agitation'));\n```\n\nThe following rules apply:\n- If the expectation object is ```null```, the assertion assumes you mean an unauthenticated user.\n- Every user object except ```null``` must supply a value for ```uid```.\n- To make a token an admin token, set ```admin: true```. Note that this definitionally will cause\nany test to pass.\n\n\n## Documentation\nThere's API documentation [here.](https://github.com/casetext/chai-fireproof/blob/master/api.md)\n\n## Warning\n\nIn order to capture annoying Firebase console messages, this library monkeypatches\n```console.log()```, ```console.warn()```, and ```console.error()```. Your\nmileage may vary, void where prohibited by law.\n","maintainers":[{"name":"goldibex","email":"me@goldibex.com"}],"time":{"modified":"2014-12-10T19:14:43.216Z","created":"2014-11-10T23:07:19.827Z","0.1.0":"2014-11-10T23:07:19.827Z","0.1.4":"2014-11-19T23:34:19.310Z","0.2.0":"2014-12-10T19:14:43.216Z"},"keywords":["Fireproof","Firebase","chai","plugin","chai-plugin"],"author":{"name":"Harry Schmidt","email":"goldibex@casetext.com"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}