{"_id":"dirty-chai-2","_rev":"1-cbf6b13984fe9d4cdd42d57f46333a6e","name":"dirty-chai-2","description":"Extends Chai with lint-friendly terminating assertions.","dist-tags":{"latest":"2.0.0"},"versions":{"2.0.0":{"name":"dirty-chai-2","version":"2.0.0","description":"Extends Chai with lint-friendly terminating assertions.","main":"./lib/dirty-chai.js","scripts":{"test":"grunt test"},"repository":{"type":"git","url":"git+https://github.com/prodatakey/dirty-chai.git"},"keywords":["chai","chai-plugin","browser","testing"],"author":{"name":"Joshua Perry","email":"josh@pdk.io"},"license":"MIT","bugs":{"url":"https://github.com/prodatakey/dirty-chai/issues"},"homepage":"https://github.com/prodatakey/dirty-chai","devDependencies":{"chai":"^4.0.0","chai-as-promised":"^7.0.0","es6-promise":"^4.0.0","grunt":"^1.0.0","grunt-contrib-jshint":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-mocha-test":"^0.13.0","jshint":"^2.9.0","jshint-stylish":"^2.0.0","load-grunt-tasks":"^3.0.0","mocha":"^3.4.2","require-uncached":"^1.0.2"},"peerDependencies":{"chai":">=2.2.1 <5"},"dependencies":{},"_id":"dirty-chai-2@2.0.0","_shasum":"87a6adfdc07abcb9aedd8063368fde300a9ad4a2","_from":"dirty-chai","_resolved":"file:dirty-chai","_npmVersion":"3.10.10","_nodeVersion":"6.11.0","_npmUser":{"name":"dirty-chai-2","email":"dirty-chai-2@best-apps.me"},"dist":{"shasum":"87a6adfdc07abcb9aedd8063368fde300a9ad4a2","tarball":"https://registry.npmjs.org/dirty-chai-2/-/dirty-chai-2-2.0.0.tgz"},"maintainers":[{"name":"dirty-chai-2","email":"dirty-chai-2@best-apps.me"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/dirty-chai-2-2.0.0.tgz_1497914707596_0.5482514824252576"},"directories":{}}},"readme":"dirty-chai\n==========\nFunction form for terminating assertion properties.\n\n## Install\n```\nnpm install dirty-chai --save-dev\n```\n## Usage\n\n`dirty-chai` is a chai [plugin](http://chaijs.com/plugins).\n\n```js\nvar chai = require('chai');\nvar dirtyChai = require('dirty-chai');\nvar expect = chai.expect\n\nchai.use(dirtyChai);\n// ...\nexpect(true).to.be.true();\n```\n\n## Custom Error Messages\n\nWith this function form for terminating properties you can also provide custom error messages to show when the assertion fails. This works whether the assertion is somewhere mid-chain or at the end.\n\n```js\nexpect(true).to.be.true.and.not.false('Reason: Paradox');\nexpect(true).to.be.true('The fabric of logic has torn').and.not.false();\n```\n\n## Affected Assertions\n\nThe following built-in assertions are modified by this plugin to now use the function-call form:\n\n* ok\n* true\n* false\n* null\n* undefined\n* exist\n* empty\n* arguments\n* Arguments\n\n## Caveats\n\n**Always terminate with a function**\n\nThese forms can also be mixed, but the chain must always be terminated in the function form or assertions up to that point in the chain will not execute.\n\n```js\nexpect(true).to.be.true.and.not.false();\nexpect(true).to.be.true().and.not.false();\n```\n\n**Chaining length/arguments**\n\nThis breaks both the `length` and `arguments` asserts when they are in the chain following any other assertion. To work around this limitation, do the `length` or `arguments` asserts first in the chain or just do multiple assertion statements.\n\n```js\nmyArray.should.exist.and.should.have.length(3); // Error: length is not a function\n\n// Do two assert statements instead\nmyArray.should.exist();\nmyArray.should.have.length(3);\n```\n\n** use with chai-as-promised **\n\nIf you're using chai-as-promised, you should `.use` chai-as-promised before dirty-chai:\n\n```js\nvar chai = require(\"chai\");\nvar chaiAsPromised = require(\"chai-as-promised\");\nvar dirtyChai = require(\"dirty-chai\");\n\n\nchai.use(chaiAsPromised);\nchai.use(dirtyChai);\n```\n\n## Plugin Assertions\n\nThis plugin will also hook and convert any property assertions added by other Chai plugins. The only thing you need to do is make sure to load dirty-chai before any other plugins so that it can get its hooks in place before the other plugins are loaded.\n\nFor example, if you load [sinon-chai](https://github.com/domenic/sinon-chai) after dirty-chai, all of its property assertions will now be method assertions.\n\n```js\nspy.should.have.been.called();\nspy.should.have.been.calledOnce();\nspy.should.have.been.calledTwice();\n```\n\n## Why?\n\n[Chai](https://github.com/chaijs/chai) is probably one of the most popular assertion libraries in the node. It has over 400 dependents and is downloaded almost 500,000/month. \n\nFor stylistic reasons, Chai was designed so that any assertions that did not require parameters would simply assert on property access. This allowed those assertions to elide the empty parens that would be required if those assertions were methods.\n\nThis design decision has a pretty big impact on how much trust you can place in your tests, especially if you don't adhere strictly to TDD's red-green-refactor flow. For a detailed descent into why, read [Beware of libraries that assert on property access](https://github.com/moll/js-must#asserting-on-property-access).\n\nThere is also the problem of getting errors from linters like JSHint. If you are linting your test code, your linter will complain with an error something like \"Expected an assignment or function call and instead saw an expression.\" Since the linter doesn't know about the property getter it assumes this line has no side-effects, and throws a warning in case you made a mistake.\n\nSquelching these errors is not a good solution as test code is getting to be just as important as, if not more than, production code. Catching syntactical errors in tests using static analysis is a great tool to help make sure that your tests are well-defined and free of typos.\n\nThis plugin was written so that we can still take advantage of the large ecosystem of projects and plugins written with/for Chai, while still being able to trust your tests. It converts the built-in property assertions to method assertions, including any property assertions added by plugins.\n\nThe list of affected assertions, and many assertions added by plugins, are property getters that assert immediately on access. Because of that, they were written to be used by terminating the assertion chain with a property access.\n\n```js\nexpect(true).to.be.true;\nfoo.should.be.ok;\n````\n\nA better option was to provide a function-call form for these assertions so that the code's intent is more clear and the linters stop complaining about something looking off. This form is added in addition to the existing property access form and does not impact existing test code.\n\n```js\nexpect(true).to.be.true();\nfoo.should.be.ok();\n```\n\n\n[dirty-chai npm cdn](https://unpkg.org/pkg/dirty-chai/) at [unpkg](https://unpkg.org/)\n","maintainers":[{"name":"dirty-chai-2","email":"dirty-chai-2@best-apps.me"}],"time":{"modified":"2017-06-19T23:25:08.509Z","created":"2017-06-19T23:25:08.509Z","2.0.0":"2017-06-19T23:25:08.509Z"},"homepage":"https://github.com/prodatakey/dirty-chai","keywords":["chai","chai-plugin","browser","testing"],"repository":{"type":"git","url":"git+https://github.com/prodatakey/dirty-chai.git"},"author":{"name":"Joshua Perry","email":"josh@pdk.io"},"bugs":{"url":"https://github.com/prodatakey/dirty-chai/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{}}